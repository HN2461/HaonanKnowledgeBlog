# ç¬¬å…«ç¯‡ ç•ªå¤–ç¯‡ï¼šå·¥å…·ã€æŠ€å·§ã€é€ŸæŸ¥

> ç›®æ ‡ï¼šæŠŠé›¶æ•£ä½†éå¸¸æœ‰ç”¨çš„ CSS å°çŸ¥è¯†ã€å°å·¥å…·ã€å°å¥—è·¯æ•´ç†æˆâ€œéšæ‰‹ç¿»â€çš„ç•ªå¤–ç¯‡ã€‚
>
> çœ‹å®Œè¿™ä¸€ç¯‡ï¼Œä½ åº”è¯¥èƒ½ï¼š
> - æŒæ¡ä¸€æ‰¹å¸¸ç”¨ä½†å®¹æ˜“è¢«å¿½ç•¥çš„ CSS å°æŠ€å·§ï¼›
> - ç†è§£ä¸€äº›å¸¸è§â€œè¿·æƒ‘è¡Œä¸ºâ€èƒŒåçš„åŸå› ï¼›
> - æ‹¿åˆ°ä¸€ä»½å¯å¤ç”¨çš„å®ç”¨ä»£ç ç‰‡æ®µæ¸…å•ï¼›
> - æ‹¿åˆ°ä¸€ä»½æŒ‰ä¸»é¢˜æ•´ç†çš„ CSS å±æ€§é€ŸæŸ¥è¡¨ã€‚

---

## ç¬¬21ç«  CSS å•Šå“ˆæ—¶åˆ»ï¼šé‚£äº›â€œåŸæ¥è¿˜å¯ä»¥è¿™æ ·å†™â€çš„æŠ€å·§

> è¿™ä¸€ç« ä¸ç³»ç»Ÿè®²ç†è®ºï¼Œè€Œæ˜¯ç»™ä½ ä¸€ä¸²å®¹æ˜“ä¸Šæ‰‹ã€èƒ½ç«‹åˆ»æ”¹å–„ä½“éªŒçš„â€œå° ah-ha æŠ€å·§â€ã€‚

### 21.1 ä½¿ç”¨ :is() ç®€åŒ–å¤æ‚é€‰æ‹©å™¨

å½“ä½ æœ‰å¤šä¸ªé€‰æ‹©å™¨éœ€è¦å…±äº«ä¸€å¥—æ ·å¼æ—¶ï¼Œè¿‡å»ä¼šè¿™æ ·å†™ï¼š

```css
/* ä¼ ç»Ÿå†™æ³•ï¼šæ¯ä¸ªé€‰æ‹©å™¨éƒ½è¦é‡å¤çˆ¶é€‰æ‹©å™¨ */
.card h2,
.card h3,
.card h4 {
  font-weight: 600;      /* å­—é‡600 */
}
```

ç°åœ¨å¯ä»¥ç”¨ `:is()` æŠŠå®ƒä»¬åˆåœ¨ä¸€èµ·ï¼š

```css
/* ç°ä»£å†™æ³•ï¼šä½¿ç”¨:is()ä¼ªç±»å‡½æ•° */
.card :is(h2, h3, h4) {
  font-weight: 600;      /* é€‰ä¸­.cardå†…çš„æ‰€æœ‰h2ã€h3ã€h4 */
}

/* æ›´å¤æ‚çš„ç¤ºä¾‹ï¼šå¤šå±‚åµŒå¥—æ—¶çš„ä¼˜åŠ¿ */
/* ä¼ ç»Ÿå†™æ³•éœ€è¦å†™9ä¸ªé€‰æ‹©å™¨ */
.header h1, .header h2, .header h3,
.article h1, .article h2, .article h3,
.footer h1, .footer h2, .footer h3 {
  color: var(--color-primary);
}

/* ä½¿ç”¨:is()åªéœ€è¦ä¸€è¡Œ */
:is(.header, .article, .footer) :is(h1, h2, h3) {
  color: var(--color-primary);    /* å¤§å¹…ç®€åŒ–é€‰æ‹©å™¨ */
}
```

- æ›´ç®€æ´
- ä»¥åéœ€è¦æ–°å¢ `h5` æ—¶ï¼Œåªéœ€è¦åœ¨ :is() å†…è¡¥ä¸€ä¸ªé€‰æ‹©å™¨
- :is() çš„ç‰¹å¼‚æ€§ç”±å‚æ•°ä¸­æœ€é«˜çš„å†³å®š


### 21.2 ä½¿ç”¨ :where() â€œé›¶ç‰¹å¼‚æ€§â€æŒ‚è½½æ ·å¼

`:where()` å’Œ `:is()` ç±»ä¼¼ï¼Œä½†å®ƒæœ¬èº«**ç‰¹å¼‚æ€§ä¸º 0**ï¼Œé€‚åˆç”¨äºâ€œä¸ä¼šæŠ¢ä¼˜å…ˆçº§â€çš„å…¨å±€æ ·å¼ã€‚

ç¤ºä¾‹ï¼š

```css
/* å…¨å±€é»˜è®¤æ ‡é¢˜æ ·å¼ï¼Œç‰¹å¼‚æ€§ä¸º0 */
:where(h1, h2, h3, h4, h5, h6) {
  font-family: inherit;            /* ç»§æ‰¿çˆ¶å…ƒç´ å­—ä½“ */
  font-weight: 600;                /* é»˜è®¤å­—é‡600 */
  line-height: 1.3;                /* ç´§å‡‘è¡Œé«˜ */
  margin-top: 0;                   /* æ¸…é™¤é¡¶éƒ¨è¾¹è· */
}

/* å¯¹æ¯”:is()çš„ç‰¹å¼‚æ€§ */
/* :is()çš„ç‰¹å¼‚æ€§ä¸º(0,1,0) - ä¸€ä¸ªç±»é€‰æ‹©å™¨ */
:is(.title) {
  color: blue;
}

/* :where()çš„ç‰¹å¼‚æ€§ä¸º(0,0,0) - é›¶ç‰¹å¼‚æ€§ */
:where(.subtitle) {
  color: gray;
}

/* åç»­æ ·å¼å¾ˆå®¹æ˜“è¦†ç›–:where()çš„è§„åˆ™ */
.article h2 {
  font-weight: 700;                /* è½»æ¾è¦†ç›–:where()ä¸­çš„600 */
}

/* ä½†è¦†ç›–:is()éœ€è¦ç›¸åŒæˆ–æ›´é«˜çš„ç‰¹å¼‚æ€§ */
.page :is(.title) {
  color: red;                      /* éœ€è¦æ›´é«˜ç‰¹å¼‚æ€§æ‰èƒ½è¦†ç›– */
}
```

> å¯ä»¥ç®€å•ç†è§£ï¼š`:where()` é€‚åˆå†™"è½»è½»æŒ‚åœ¨åº•å±‚çš„é»˜è®¤æ ·å¼"ï¼Œä¸ä¼šåˆ¶é€ ç‰¹å¼‚æ€§åœ°é›·ã€‚

### 21.3 ç”¨ min(), max(), clamp() æ§åˆ¶â€œèªæ˜çš„å°ºå¯¸â€

å‰é¢æˆ‘ä»¬å·²ç»ç”¨ `clamp()` åšè¿‡è‡ªé€‚åº”å­—ä½“ï¼Œè¿™é‡Œå†æ€»ç»“ä¸€ä¸‹ï¼š

- `min(a, b)`ï¼šå–è¾ƒå°å€¼
- `max(a, b)`ï¼šå–è¾ƒå¤§å€¼
- `clamp(min, preferred, max)`ï¼šå€¼åœ¨ min~max ä¹‹é—´å˜åŒ–

ä¾‹å­ï¼šé™åˆ¶ä¸€ä¸ªå¡ç‰‡å®½åº¦ï¼š

```css
/* å“åº”å¼å¡ç‰‡å®½åº¦ */
.card {
  /* clamp(æœ€å°å€¼, ç†æƒ³å€¼, æœ€å¤§å€¼) */
  width: clamp(260px, 50vw, 420px);
  /* è§£é‡Šï¼š
     - è§†å£å¾ˆå°æ—¶ï¼šå®½åº¦ä¸º260pxï¼ˆæœ€å°å€¼ï¼‰
     - è§†å£ä¸­ç­‰æ—¶ï¼šå®½åº¦ä¸º50vwï¼ˆè§†å£å®½åº¦çš„50%ï¼‰
     - è§†å£å¾ˆå¤§æ—¶ï¼šå®½åº¦ä¸º420pxï¼ˆæœ€å¤§å€¼ï¼‰
  */
}

/* æ›´å¤šå®ç”¨ç¤ºä¾‹ */
.hero-title {
  /* å“åº”å¼å­—å·ï¼š28px-5vw-48px */
  font-size: clamp(1.75rem, 5vw, 3rem);
}

.container {
  /* å“åº”å¼å†…è¾¹è·ï¼š16px-5%-64px */
  padding: clamp(16px, 5%, 64px);
}

/* min()å’Œmax()çš„å•ç‹¬ä½¿ç”¨ */
.sidebar {
  /* å–è¾ƒå°å€¼ï¼š300pxæˆ–30% */
  width: min(300px, 30%);           /* é˜²æ­¢ä¾§è¾¹æ å¤ªå®½ */
}

.button {
  /* å–è¾ƒå¤§å€¼ï¼šç¡®ä¿æœ€å°å®½åº¦ */
  width: max(120px, 15%);           /* æŒ‰é’®ä¸ä¼šå¤ªçª„ */
}
```

- å¾ˆçª„å±æ—¶ä¸ä¼šä½äº 260px
- ä¸­é—´åŒºé—´æŒ‰è§†å£å®½åº¦ 50vw è°ƒæ•´
- å®½å±æ—¶ä¸ä¼šè¶…è¿‡ 420px


### 21.4 ä½¿ç”¨ aspect-ratio åšå›ºå®šæ¯”ä¾‹ç›’å­

ä»¥å‰æƒ³è¦å›ºå®šå®½é«˜æ¯”ï¼ˆæ¯”å¦‚ 16:9 è§†é¢‘ç›’å­ï¼‰ï¼Œé€šå¸¸è¦ç”¨ padding hackï¼š

```css
/* ä¼ ç»Ÿæ–¹æ³•ï¼šä½¿ç”¨padding-topç™¾åˆ†æ¯”æŠ€å·§ */
.video-wrapper {
  position: relative;               /* ç›¸å¯¹å®šä½ä½œä¸ºå‚è€ƒ */
  padding-top: 56.25%;              /* 9Ã·16 = 0.5625 = 56.25% */
  /* paddingç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ å®½åº¦è®¡ç®—çš„ */
}

.video-wrapper iframe {
  position: absolute;               /* ç»å¯¹å®šä½å¡«æ»¡å®¹å™¨ */
  inset: 0;                        /* ç­‰åŒäºtop:0 right:0 bottom:0 left:0 */
  width: 100%;                     /* å®½åº¦100% */
  height: 100%;                    /* é«˜åº¦100% */
}
```

ç°åœ¨å¯ä»¥ç”¨æ›´ç›´è§‚çš„ `aspect-ratio`ï¼š

```css
/* ç°ä»£æ–¹æ³•ï¼šç›´æ¥ä½¿ç”¨aspect-ratio */
.video {
  width: 100%;                     /* å®½åº¦100% */
  aspect-ratio: 16 / 9;            /* å®½é«˜æ¯”16:9 */
  background: #0f172a;             /* èƒŒæ™¯è‰²å ä½ */
}

/* æ›´å¤šå¸¸ç”¨æ¯”ä¾‹ */
.square {
  aspect-ratio: 1 / 1;             /* 1:1 æ­£æ–¹å½¢ */
}

.portrait {
  aspect-ratio: 3 / 4;             /* 3:4 ç«–ç‰ˆ */
}

.landscape {
  aspect-ratio: 4 / 3;             /* 4:3 æ¨ªç‰ˆ */
}

.cinematic {
  aspect-ratio: 21 / 9;            /* 21:9 è¶…å®½å± */
}

/* ç»“åˆmax-widthé™åˆ¶å°ºå¯¸ */
.card-image {
  width: 100%;
  max-width: 400px;                /* æœ€å¤§400pxå®½ */
  aspect-ratio: 16 / 10;           /* 16:10æ¯”ä¾‹ */
  object-fit: cover;               /* å›¾ç‰‡å¡«å……æ–¹å¼ */
}
```


### 21.5 ç”¨ scroll-margin-* ä¼˜åŒ–é”šç‚¹æ»šåŠ¨ä½“éªŒ

å¾ˆå¤šé¡µé¢æœ‰"ç›®å½• â†’ æ»šåŠ¨åˆ°æŸä¸€èŠ‚"çš„äº¤äº’ï¼š

```html
<a href="#section-3">è·³åˆ°ç¬¬ 3 èŠ‚</a>
...
<h2 id="section-3">ç¬¬ 3 èŠ‚æ ‡é¢˜</h2>
```

å¦‚æœé¡µé¢é¡¶éƒ¨æœ‰å›ºå®šå¯¼èˆªæ ï¼ˆfixed headerï¼‰ï¼Œæ»šåŠ¨åæ ‡é¢˜ç»å¸¸ä¼šè¢«é®ä½ã€‚å¯ä»¥åœ¨æ ‡é¢˜ä¸ŠåŠ ä¸€ä¸ª `scroll-margin-top`ï¼š

```css
/* é”šç‚¹æ»šåŠ¨ä¼˜åŒ– */
.section-title {
  scroll-margin-top: 80px;         /* é¢„ç•™å‡ºheaderé«˜åº¦ */
  /* å½“ç‚¹å‡»é”šç‚¹æ»šåŠ¨åˆ°æ­¤å…ƒç´ æ—¶ï¼Œ
     ä¼šåœ¨è§†å£é¡¶éƒ¨é¢å¤–ç•™å‡º80pxç©ºé—´ */
}

/* æ›´å®Œæ•´çš„æ–¹æ¡ˆï¼šä½¿ç”¨CSSå˜é‡ */
:root {
  --header-height: 60px;           /* å®šä¹‰headeré«˜åº¦ */
}

.site-header {
  position: fixed;
  top: 0;
  height: var(--header-height);
}

h2[id], h3[id], h4[id] {
  /* æ‰€æœ‰å¸¦idçš„æ ‡é¢˜éƒ½é¢„ç•™ç©ºé—´ */
  scroll-margin-top: calc(var(--header-height) + 20px);
  /* headeré«˜åº¦ + 20pxé¢å¤–é—´è· */
}
```

è¿™æ ·æµè§ˆå™¨åœ¨æ»šåŠ¨åˆ°é”šç‚¹æ—¶ï¼Œä¼šè‡ªåŠ¨ç•™å‡ºæŒ‡å®šè·ç¦»ï¼Œæ”¹å–„é˜…è¯»ä½“éªŒã€‚

### 21.6 ç”¨ overscroll-behavior é¿å…"æ©¡çš®ç­‹ä¸²é¡µé¢"

åœ¨åµŒå¥—æ»šåŠ¨å®¹å™¨ä¸­ï¼ˆæ¯”å¦‚ä¸€ä¸ªå†…éƒ¨å¯æ»šåŠ¨çš„å¯¹è¯æ¡†ï¼‰ï¼Œæ»šåˆ°é¡¶éƒ¨/åº•éƒ¨æ—¶ï¼Œå¤–å±‚é¡µé¢å®¹æ˜“ç»§ç»­æ»šåŠ¨ï¼Œé€ æˆä½“éªŒä¸ä½³ã€‚

å¯ä»¥ä½¿ç”¨ï¼š

```css
/* æ¨¡æ€æ¡†æ»šåŠ¨éš”ç¦» */
.modal-body {
  max-height: 60vh;                /* æœ€å¤§é«˜åº¦60%è§†å£ */
  overflow-y: auto;                 /* å‚ç›´æ»šåŠ¨ */
  overscroll-behavior: contain;    /* é˜»æ­¢æ»šåŠ¨ä¼ é€’ */
  /* contain: æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶åœæ­¢ï¼Œä¸å½±å“å¤–å±‚
     auto: é»˜è®¤è¡Œä¸ºï¼Œä¼šä¼ é€’ç»™çˆ¶å…ƒç´ 
     none: å®Œå…¨ç¦ç”¨è¿‡åº¦æ»šåŠ¨æ•ˆæœ */
}

/* ç§»åŠ¨ç«¯ä¸‹æ‹‰åˆ·æ–°æ§åˆ¶ */
html {
  /* ç¦ç”¨æµè§ˆå™¨çš„ä¸‹æ‹‰åˆ·æ–° */
  overscroll-behavior-y: none;
}

/* ä¾§è¾¹æ æ»šåŠ¨éš”ç¦» */
.sidebar {
  height: 100vh;
  overflow-y: auto;
  /* xè½´ç¦ç”¨ï¼Œyè½´éš”ç¦» */
  overscroll-behavior: none contain;
}
```

- å½“ç”¨æˆ·åœ¨ `modal-body` å†…æ»šåŠ¨åˆ°é¡¶/åº•æ—¶ï¼Œä¸ä¼šæŠŠæ»šåŠ¨ä¼ é€’ç»™å¤–å±‚é¡µé¢

### 21.7 ç”¨ pointer-events æ§åˆ¶ç‚¹å‡»ç©¿é€

æœ‰æ—¶éœ€è¦ä¸€ä¸ª"åªå±•ç¤ºä¸æŒ¡ç‚¹å‡»"çš„è£…é¥°å±‚ï¼Œæ¯”å¦‚ä¸€ä¸ªå¤§èŒƒå›´çš„æ¸å˜è¦†ç›–æˆ–é«˜äº®é®ç½©ã€‚

```css
/* è£…é¥°æ€§é®ç½©å±‚ */
.highlight-overlay {
  position: absolute;
  inset: 0;                         /* å¡«æ»¡çˆ¶å®¹å™¨ */
  /* å¾„å‘æ¸å˜è£…é¥° */
  background: radial-gradient(
    circle at 0% 0%, 
    rgba(56, 189, 248, .2), 
    transparent
  );
  pointer-events: none;             /* é¼ æ ‡äº‹ä»¶ç©¿é€ */
  /* none: å®Œå…¨ç©¿é€ï¼Œä¸å“åº”ä»»ä½•é¼ æ ‡äº‹ä»¶
     auto: é»˜è®¤ï¼Œæ­£å¸¸å“åº”
     å…¶ä»–å€¼ç”¨äºSVG */
}

/* ç¦ç”¨çŠ¶æ€çš„è¦†ç›–å±‚ */
.disabled-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  pointer-events: auto;             /* é˜»æ­¢ç‚¹å‡»ä¸‹å±‚å…ƒç´  */
  cursor: not-allowed;              /* æ˜¾ç¤ºç¦ç”¨å…‰æ ‡ */
}

/* æ¡ä»¶æ€§äº¤äº’ */
.interactive-layer {
  pointer-events: none;             /* é»˜è®¤ç©¿é€ */
}

.interactive-layer.active {
  pointer-events: auto;             /* æ¿€æ´»æ—¶å¯äº¤äº’ */
}
```

- `pointer-events: none;` è®©é¼ æ ‡äº‹ä»¶"ç©¿é€"è¿™ä¸ªå±‚ï¼Œä¸‹é¢çš„æŒ‰é’®ä»ç„¶å¯ç‚¹å‡»

### 21.8 ç”¨ mix-blend-mode åšæ–‡å­—é«˜äº®æ•ˆæœ

åœ¨æ·±è‰²èƒŒæ™¯ä¸­æƒ³åšæŸç§"å‘å…‰"å¼æ–‡å­—ï¼Œå¯ä»¥è¯•è¯•ï¼š

```css
/* åŸºç¡€æ··åˆæ¨¡å¼æ•ˆæœ */
.glow-text {
  color: #e5e7eb;
  mix-blend-mode: screen;           /* æ»¤è‰²æ¨¡å¼ */
  /* å¸¸ç”¨æ··åˆæ¨¡å¼ï¼š
     normal: æ­£å¸¸ï¼ˆé»˜è®¤ï¼‰
     multiply: æ­£ç‰‡å åº•ï¼ˆå˜æš—ï¼‰
     screen: æ»¤è‰²ï¼ˆå˜äº®ï¼‰
     overlay: å åŠ 
     difference: å·®å€¼
     exclusion: æ’é™¤
  */
}

/* åˆ›æ„æ–‡å­—æ•ˆæœ */
.hero-title {
  font-size: 5rem;
  font-weight: 900;
  color: white;
  mix-blend-mode: difference;      /* åè‰²æ•ˆæœ */
}

/* é…åˆèƒŒæ™¯ä½¿ç”¨ */
.blend-section {
  background: linear-gradient(135deg, #667eea, #764ba2);
}

.blend-section h2 {
  color: white;
  mix-blend-mode: overlay;         /* ä¸èƒŒæ™¯èåˆ */
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

/* æ³¨æ„ï¼šéœ€è¦è€ƒè™‘å¯è¯»æ€§ */
.readable-blend {
  mix-blend-mode: screen;
  /* æ·»åŠ æ–‡å­—é˜´å½±å¢å¼ºå¯è¯»æ€§ */
  text-shadow: 0 0 20px rgba(0,0,0,0.5);
}
```

é…åˆèƒŒåçš„æ¸å˜èƒŒæ™¯ï¼Œå¯ä»¥äº§ç”Ÿæœ‰è¶£çš„èåˆæ•ˆæœï¼ˆæ³¨æ„å¯è¯»æ€§å’Œå¯¹æ¯”åº¦ï¼‰ã€‚

### 21.9 ç”¨å­ç½‘æ ¼ï¼ˆsubgridï¼‰ï¼ˆå‰ç»æ¦‚å¿µï¼‰ç»Ÿä¸€å¯¹é½

éƒ¨åˆ†ç°ä»£æµè§ˆå™¨å¼€å§‹æ”¯æŒ `subgrid`ï¼š

```css
/* çˆ¶ç½‘æ ¼å®šä¹‰ */
.article-layout {
  display: grid;
  /* ä¸‰åˆ—ï¼šä¾§è¾¹ç©ºç™½ - å†…å®¹ - ä¾§è¾¹ç©ºç™½ */
  grid-template-columns: 1fr min(720px, 100%) 1fr;
  gap: 20px;
}

/* å­å…ƒç´ ç»§æ‰¿çˆ¶ç½‘æ ¼è½¨é“ */
.article-body {
  display: grid;
  grid-column: 2;                  /* å æ®ç¬¬äºŒåˆ— */
  grid-template-columns: subgrid;  /* ç»§æ‰¿çˆ¶ç½‘æ ¼çš„åˆ—å®šä¹‰ */
  /* å­å…ƒç´ ä¼šæ²¿ç”¨çˆ¶ç½‘æ ¼çš„å¯¹é½çº¿ */
}

/* å®é™…åº”ç”¨ï¼šå¡ç‰‡å¯¹é½ */
.card-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}

.card {
  display: grid;
  grid-template-rows: auto 1fr auto; /* æ ‡é¢˜-å†…å®¹-æŒ‰é’® */
}

/* ä½¿ç”¨subgridè®©æ‰€æœ‰å¡ç‰‡çš„å…ƒç´ å¯¹é½ */
.card-aligned {
  display: grid;
  grid-template-rows: subgrid;     /* è¡Œé«˜åº¦ç»Ÿä¸€ */
  grid-row: span 3;                 /* è·¨è¶Š3è¡Œ */
}
```

- å­å…ƒç´ å¯ä»¥ç»§æ‰¿çˆ¶ç½‘æ ¼çš„è½¨é“ï¼Œå®ç°å¤æ‚ä½†ç»Ÿä¸€çš„å¯¹é½å¸ƒå±€
- ç›®å‰å…¼å®¹æ€§è¿˜åœ¨é€æ­¥æ¨è¿›ä¸­ï¼Œåšé¡¹ç›®æ—¶éœ€è¦æ ¹æ®ç›®æ ‡æµè§ˆå™¨è¯„ä¼°

> è¿™ä¸€èŠ‚åªæ˜¯æå‰ç§ä¸€ä¸ªâ€œå‰ç»â€æ¦‚å¿µï¼šæœªæ¥ CSS å¸ƒå±€ä¼šæ›´å¼ºå¤§ã€æ›´ç³»ç»Ÿã€‚

---

> ç¬¬21ç« æ”¶é›†äº†ä¸€äº›â€œçŸ¥æ™“ä¹‹åä¼šç»å¸¸ç”¨åˆ°â€çš„å°æŠ€å·§ã€‚æ¥ä¸‹æ¥ç¬¬22ç« ï¼Œæˆ‘ä»¬ä¼šæ¢ä¸ªè§’åº¦ï¼Œä¸“é—¨è§£é‡Šé‚£äº›åœ¨ä½ å†™ CSS æ—¶ç»å¸¸ä¼šé—®â€œè¿™ç©æ„å„¿æ€ä¹ˆè¿™ä¹ˆæ€ªâ€çš„è¿·æƒ‘è¡Œä¸ºï¼Œè®©ä½ å°‘è¸©å‘ã€å¤šç†è§£ã€‚

## ç¬¬22ç«  CSS å¸¸è§è¿·æƒ‘è¡Œä¸ºè§£é‡Š

> è¿™ä¸€ç« æ˜¯â€œFAQâ€é£æ ¼ï¼Œé›†ä¸­å›ç­”ä¸€äº› CSS å°ç™½å’Œè¿›é˜¶å¼€å‘è€…éƒ½ä¼šé‡åˆ°çš„ WTFï¼š
> - ä¸ºä»€ä¹ˆ margin ä¼šè«åå…¶å¦™â€œæŠ˜å â€ï¼Ÿ
> - ä¸ºä»€ä¹ˆè¡Œå†…å…ƒç´ æ˜æ˜è®¾ç½®äº†å®½é«˜å´æ²¡ç”Ÿæ•ˆï¼Ÿ
> - ä¸ºä»€ä¹ˆ flex å­é¡¹æœ‰æ—¶ä¼šâ€œæŒ¤çˆ†â€å®¹å™¨ï¼Ÿ

### 22.1 å¤–è¾¹è·æŠ˜å ï¼šä¸ºä»€ä¹ˆä¸¤ä¸ªç›’å­ä¹‹é—´ä¸æ˜¯ 20pxï¼Ÿ

åœºæ™¯ï¼š

```css
.box-a { margin-bottom: 20px; }
.box-b { margin-top: 20px; }
```

å¾ˆå¤šäººä»¥ä¸ºä¸¤ä¸ªç›’å­ä¹‹é—´çš„è·ç¦»æ˜¯ 40pxï¼Œå®é™…ä¸Šå¾€å¾€åªæœ‰ 20pxã€‚

åŸå› ï¼š

- å‚ç›´æ–¹å‘ä¸Šç›¸é‚»å—çº§ç›’å­çš„ margin æœ‰â€œæŠ˜å è§„åˆ™â€
- ç®€åŒ–ç†è§£ï¼š**ä¸Šä¸‹ margin å–æœ€å¤§å€¼ï¼Œè€Œä¸æ˜¯ç›¸åŠ **

ç®€å•å›¾ç¤ºï¼š

```txt
æœŸæœ›ï¼š20px + 20px = 40px

å®é™…ï¼š

â”Œâ”€â”€â”€â”€ box-a â”€â”€â”€â”€â”
â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘ 20px margin-bottom
   â†“ 20px margin-top ï¼ˆä¸ä¸Šé¢çš„æŠ˜å ï¼‰
â”Œâ”€â”€â”€â”€ box-b â”€â”€â”€â”€â”
â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è·ç¦» = max(20, 20) = 20px
```

å¸¸ç”¨è§£å†³æ–¹æ³•ï¼š

- æ”¹ç”¨ `padding` æ§åˆ¶çˆ¶å®¹å™¨çš„å†…è¾¹è·
- ç»™å…¶ä¸­ä¸€ä¸ªç›’å­åŒ…ä¸€å±‚ï¼Œä¸è®© margin ç›´æ¥ç›¸é‚»


### 22.2 è¡Œå†…å…ƒç´ çš„å®½é«˜ï¼šä¸ºä»€ä¹ˆä¸å¬è¯ï¼Ÿ

åœºæ™¯ï¼š

```css
span {
  width: 200px;
  height: 100px;
  background: #fee2e2;
}
```

å‘ç°ï¼š`span` çœ‹èµ·æ¥æ²¡æŒ‰å®½é«˜å˜å¤§ã€‚

åŸå› ï¼š

- `span` é»˜è®¤æ˜¯ `display: inline;`
- è¡Œå†…å…ƒç´ ä¸ä¼šå“åº” `width`/`height`ï¼Œå°ºå¯¸ç”±å†…å®¹å’Œå­—ä½“å†³å®š

è§£å†³ï¼š

- æ”¹ä¸º `inline-block` æˆ– `block`

```css
span {
  display: inline-block;
  width: 200px;
  height: 100px;
}
```


### 22.3 flex å­é¡¹ä¸ºä»€ä¹ˆä¼šâ€œæŒ¤çˆ†â€æˆ–â€œç¼©å¾—å¾ˆå¥‡æ€ªâ€ï¼Ÿ

åœºæ™¯ï¼š

```css
.row {
  display: flex;
}

.col {
  flex: 1;
}
```

æœ‰æ—¶å­é¡¹å†…å®¹å¤ªå¤šï¼Œä¼šæŒ¤åˆ°å®¹å™¨å¤–é¢ï¼›æœ‰æ—¶åˆè¢«å‹æ‰å¾—çœ‹ä¸æ‡‚ã€‚

å…³é”®ç‚¹ï¼š

- `flex: 1` ç›¸å½“äº `flex: 1 1 0`ï¼ˆgrow = 1, shrink = 1, basis = 0ï¼‰
- `flex-basis: 0` è¡¨ç¤ºâ€œæŒ‰å¯ç”¨ç©ºé—´é‡æ–°åˆ†é…â€ï¼Œå¿½ç•¥å†…å®¹å®½åº¦

å¦‚æœä½ æ›´å¸Œæœ›â€œå°Šé‡å†…å®¹å®½åº¦ï¼Œå†é€‚åº¦ç¼©æ”¾â€ï¼Œå¯ä»¥ç”¨ï¼š

```css
.col {
  flex: 1 1 auto;
}
```

æˆ–è€…ä¸ºå†…å®¹éå¸¸å¤šçš„åˆ—è®¾ç½® `min-width`ï¼Œé¿å…è¢«å‹ç¼©å¾—ä¸å¯ç”¨ã€‚


### 22.4 è¡Œé«˜ä¸å‚ç›´å±…ä¸­çš„è°œå›¢

åœºæ™¯ï¼š

```css
.tag {
  display: inline-block;
  line-height: 32px;
  height: 32px;
}
```

æœ‰æ—¶æ–‡å­—çœ‹èµ·æ¥åä¸Šæˆ–åä¸‹ã€‚

åŸå› ï¼š

- å­—ä½“æœ¬èº«æœ‰ä¸Š/ä¸‹â€œé¢„ç•™ç©ºé—´â€ï¼ˆascent/descentï¼‰
- ä¸åŒå­—ä½“ã€å­—å·ä¸‹ï¼Œ`line-height = height` å¹¶ä¸æ„å‘³è§†è§‰å®Œç¾å±…ä¸­

å®æˆ˜å»ºè®®ï¼š

- å¯¹äº tag/badge ä¸€ç±»å°ç»„ä»¶ï¼Œç”¨ `line-height` åšå‚ç›´å±…ä¸­æ˜¯ç®€å•æ–¹æ¡ˆï¼Œä½†è¦é…åˆå…·ä½“å­—ä½“å¾®è°ƒ
- æ›´ç¨³å®šçš„æ–¹å¼ï¼šä½¿ç”¨ flex å±…ä¸­

```css
.tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 32px;
}
```


### 22.5 ä¸ºä»€ä¹ˆ position: sticky æœ‰æ—¶â€œä¸å¸é¡¶â€ï¼Ÿ

`position: sticky` å¯ä»¥è®©å…ƒç´ åœ¨æ»šåŠ¨åˆ°ä¸€å®šä½ç½®åâ€œç²˜ä½â€ï¼Œä½†ç»å¸¸æœ‰äººå‘ç°å®ƒä¸ç”Ÿæ•ˆã€‚

å¸¸è§åŸå› ï¼š

- æ²¡æœ‰è®¾ç½® `top`/`bottom` ç­‰åç§»å€¼
- ç¥–å…ˆå…ƒç´ è®¾ç½®äº† `overflow: hidden/auto/scroll`ï¼Œæˆªæ–­äº† sticky çš„æ»šåŠ¨å‚è€ƒ

ç®€å•ç¤ºä¾‹ï¼š

```css
.toc {
  position: sticky;
  top: 80px;  /* å¿…é¡»ç»™ */
}
```

> Sticky æ˜¯â€œç›¸å¯¹æœ€è¿‘çš„å¯æ»šåŠ¨ç¥–å…ˆâ€èµ·ä½œç”¨çš„ï¼Œå¦‚æœä½ çš„å¸ƒå±€é‡Œæœ‰ä¸­é—´ä¸€å±‚å®¹å™¨è®¾ç½®äº† overflowï¼Œsticky å°±åªåœ¨é‚£ä¸ªå®¹å™¨å†…éƒ¨ç”Ÿæ•ˆã€‚


### 22.6 ä¸ºä»€ä¹ˆ transform ä¼šå½±å“ position: fixedï¼Ÿ

å½“æŸä¸ªç¥–å…ˆå…ƒç´ è®¾ç½®äº† `transform`ï¼ˆæ¯”å¦‚ `transform: translateY(0);`ï¼‰ï¼Œåœ¨å®ƒå†…éƒ¨çš„ `position: fixed` å…ƒç´ ï¼Œä¼šå˜æˆâ€œç›¸å¯¹è¯¥ç¥–å…ˆå›ºå®šâ€ï¼Œè€Œä¸æ˜¯ç›¸å¯¹è§†å£ã€‚

åŸå› ï¼š

- transform ç­‰å±æ€§ä¼šåˆ›å»ºæ–°çš„åŒ…å«å—ï¼ˆcontaining blockï¼‰

å¦‚æœä½ æƒ³è®© fixed å…ƒç´ å§‹ç»ˆç›¸å¯¹è§†å£å›ºå®šï¼Œå°½é‡é¿å…åœ¨å®ƒçš„ç¥–å…ˆä¸Šéšæ„è®¾ç½® transformã€‚


---


> ç¬¬22ç« ç”¨å‡ ç»„å¸¸è§é—®é¢˜è§£é‡Šäº† CSS çš„ä¸€äº›â€œæ€ªè„¾æ°”â€ã€‚æ¥ä¸‹æ¥ç¬¬23ç« ï¼Œæˆ‘ä»¬ä¼šç›´æ¥ç»™å‡ºä¸€æ‰¹å¸¸ç”¨çš„å®ç”¨ä»£ç ç‰‡æ®µï¼Œæ–¹ä¾¿ä½ åœ¨é¡¹ç›®ä¸­å¤åˆ¶ç²˜è´´åå†æŒ‰éœ€è°ƒæ•´ã€‚

## ç¬¬23ç«  å¸¸ç”¨å®ç”¨ä»£ç ç‰‡æ®µåº“ï¼ˆæŒ‰é’®ã€å¡ç‰‡ã€å¸ƒå±€æ¨¡æ¿ï¼‰

> è¿™ä¸€ç« æ˜¯â€œå¤åˆ¶å³å¯ç”¨â€å‹ï¼Œæ‰€æœ‰ç‰‡æ®µéƒ½å°½é‡ä¿æŒç®€æ´ï¼Œé€‚åˆä½œä¸ºä½ è‡ªå·±é¡¹ç›®çš„èµ·ç‚¹ã€‚

### 23.1 æŒ‰é’®æ ·å¼é›†åˆ

#### 23.1.1 ä¸»æŒ‰é’® + æ¬¡æŒ‰é’® + å¹½çµæŒ‰é’®

```css
/* æŒ‰é’®åŸºç¡€æ ·å¼ */
.btn {
  /* å¸ƒå±€ */
  display: inline-flex;              /* è¡Œå†…å¼¹æ€§å®¹å™¨ */
  align-items: center;               /* å‚ç›´å±…ä¸­ */
  justify-content: center;           /* æ°´å¹³å±…ä¸­ */
  gap: 0.4em;                       /* å›¾æ ‡ä¸æ–‡å­—é—´è· */
  
  /* å°ºå¯¸ */
  padding: 0.6em 1.4em;             /* ä¸Šä¸‹0.6emï¼Œå·¦å³1.4em */
  
  /* è§†è§‰ */
  border-radius: 999px;             /* å®Œå…¨åœ†è§’ï¼ˆèƒ¶å›Šå½¢ï¼‰ */
  border: 1px solid transparent;    /* é€æ˜è¾¹æ¡†å ä½ */
  
  /* å­—ä½“ */
  font-size: 0.95rem;               /* 15.2px */
  font-weight: 500;                 /* ä¸­ç­‰ç²—ç»† */
  
  /* äº¤äº’ */
  cursor: pointer;                  /* æ‰‹å‹å…‰æ ‡ */
  
  /* è¿‡æ¸¡åŠ¨ç”»ï¼šèƒŒæ™¯è‰²ã€é˜´å½±ã€ä½ç§» */
  transition: background-color 0.15s ease, 
              box-shadow 0.15s ease,
              transform 0.12s ease;
  
  /* é˜²æ­¢æ–‡å­—é€‰ä¸­ */
  user-select: none;
}

/* ä¸»æŒ‰é’®æ ·å¼ */
.btn--primary {
  background: #2563eb;              /* è“è‰²èƒŒæ™¯ */
  color: #ffffff;                   /* ç™½è‰²æ–‡å­— */
  /* åˆå§‹é˜´å½±ï¼šå‘ä¸‹8pxï¼Œæ¨¡ç³Š24px */
  box-shadow: 0 8px 24px rgba(37, 99, 235, 0.45);
}

.btn--primary:hover {
  background: #1d4ed8;              /* æ·±ä¸€åº¦çš„è“è‰² */
  /* å¢å¼ºé˜´å½±ï¼šå‘ä¸‹12pxï¼Œæ¨¡ç³Š32pxï¼Œé€æ˜åº¦æ›´é«˜ */
  box-shadow: 0 12px 32px rgba(37, 99, 235, 0.6);
  transform: translateY(-1px);      /* è½»å¾®ä¸Šæµ®æ•ˆæœ */
}

.btn--primary:active {
  transform: translateY(0);         /* æŒ‰ä¸‹æ—¶å›åˆ°åŸä½ */
  box-shadow: 0 4px 16px rgba(37, 99, 235, 0.4);
}

/* æ¬¡è¦æŒ‰é’® */
.btn--secondary {
  background: #e5e7eb;              /* æµ…ç°èƒŒæ™¯ */
  color: #111827;                   /* æ·±è‰²æ–‡å­— */
}

.btn--secondary:hover {
  background: #d1d5db;              /* æ·±ä¸€åº¦çš„ç°è‰² */
}

/* å¹½çµæŒ‰é’®ï¼ˆé€æ˜èƒŒæ™¯ï¼‰ */
.btn--ghost {
  background: transparent;           /* é€æ˜èƒŒæ™¯ */
  color: #2563eb;                   /* è“è‰²æ–‡å­— */
  border-color: rgba(37, 99, 235, 0.5); /* åŠé€æ˜è“è‰²è¾¹æ¡† */
}

.btn--ghost:hover {
  background: rgba(37, 99, 235, 0.1); /* æµ…è“è‰²èƒŒæ™¯ */
  border-color: #2563eb;            /* å®è‰²è¾¹æ¡† */
}
```

HTMLï¼š

```html
<button class="btn btn--primary">å¼€å§‹ä½¿ç”¨</button>
<button class="btn btn--secondary">ç¨åå†è¯´</button>
<button class="btn btn--ghost">äº†è§£è¯¦æƒ…</button>
```


### 23.2 å¸¸è§å¡ç‰‡å¸ƒå±€

#### 23.2.1 ä¿¡æ¯å¡ç‰‡ï¼ˆæ ‡é¢˜ + æ ‡ç­¾ + æè¿°ï¼‰

```css
/* å¡ç‰‡å®¹å™¨ */
.card {
  /* å†…è¾¹è· */
  padding: 20px 24px;               /* ä¸Šä¸‹20pxï¼Œå·¦å³24px */
  
  /* è§†è§‰æ•ˆæœ */
  border-radius: 16px;              /* å¤§åœ†è§’ï¼Œç°ä»£æ„Ÿ */
  background: #ffffff;              /* ç™½è‰²èƒŒæ™¯ */
  
  /* é˜´å½±ï¼šxåç§»0, yåç§»12px, æ¨¡ç³Š30px */
  box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08);
  
  /* è¿‡æ¸¡æ•ˆæœï¼ˆå¯é€‰ï¼‰ */
  transition: transform 0.2s ease, 
              box-shadow 0.2s ease;
}

/* æ‚¬åœæ•ˆæœï¼ˆå¯é€‰ï¼‰ */
.card:hover {
  transform: translateY(-2px);     /* è½»å¾®ä¸Šæµ® */
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.12);
}

/* å¡ç‰‡å…ƒä¿¡æ¯ï¼ˆæ ‡ç­¾/åˆ†ç±»ï¼‰ */
.card__meta {
  font-size: 0.75rem;               /* 12px - å°å·æ–‡å­— */
  letter-spacing: 0.08em;           /* å­—æ¯é—´è·ï¼Œå¢å¼ºå¯è¯»æ€§ */
  text-transform: uppercase;        /* è½¬ä¸ºå¤§å†™ */
  color: #6b7280;                   /* ç°è‰²æ–‡å­— */
  margin-bottom: 8px;               /* ä¸‹è¾¹è· */
  font-weight: 500;                 /* ä¸­ç­‰ç²—ç»† */
}

/* å¡ç‰‡æ ‡é¢˜ */
.card__title {
  font-size: 1.1rem;                /* 17.6px */
  font-weight: 600;                 /* åŠç²—ä½“ */
  color: #111827;                   /* æ·±è‰²æ ‡é¢˜ */
  margin-bottom: 6px;               /* ä¸æè¿°çš„é—´è· */
  line-height: 1.3;                 /* ç´§å‡‘è¡Œé«˜ */
  
  /* é˜²æ­¢æ ‡é¢˜è¿‡é•¿ */
  overflow: hidden;
  text-overflow: ellipsis;          /* è¶…å‡ºæ˜¾ç¤ºçœç•¥å· */
  display: -webkit-box;
  -webkit-line-clamp: 2;            /* æœ€å¤š2è¡Œ */
  -webkit-box-orient: vertical;
}

/* å¡ç‰‡æè¿°æ–‡å­— */
.card__desc {
  font-size: 0.95rem;               /* 15.2px */
  color: #4b5563;                   /* ä¸­ç°è‰² */
  line-height: 1.6;                 /* èˆ’é€‚è¡Œé«˜ */
  
  /* é™åˆ¶è¡Œæ•°ï¼ˆå¯é€‰ï¼‰ */
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 3;            /* æœ€å¤š3è¡Œ */
  -webkit-box-orient: vertical;
}

/* å¸¦å›¾ç‰‡çš„å¡ç‰‡å˜ä½“ */
.card--with-image {
  padding: 0;                       /* ç§»é™¤å†…è¾¹è· */
  overflow: hidden;                 /* è£å‰ªæº¢å‡ºå†…å®¹ */
}

.card__image {
  width: 100%;
  height: 200px;
  object-fit: cover;                /* ä¿æŒæ¯”ä¾‹è£å‰ª */
}

.card__body {
  padding: 20px 24px;               /* å†…å®¹åŒºå†…è¾¹è· */
}
```

HTMLï¼š

```html
<article class="card">
  <div class="card__meta">FEATURE</div>
  <h3 class="card__title">å¯ç»´æŠ¤çš„ CSS æ¶æ„</h3>
  <p class="card__desc">ç”¨åˆ†å±‚å’Œç»„ä»¶åŒ–çš„æ–¹å¼ç»„ç»‡ä½ çš„æ ·å¼ä»£ç ã€‚</p>
</article>
```


### 23.3 å¸¸ç”¨å¸ƒå±€æ¨¡æ¿

#### 23.3.1 ä¸¤åˆ—å¸ƒå±€ï¼ˆå·¦æ–‡å³å›¾ï¼Œç§»åŠ¨ç«¯è‡ªåŠ¨å †å ï¼‰

```css
/* ä¸¤åˆ—å“åº”å¼å¸ƒå±€ */
.two-column {
  display: grid;                           /* ç½‘æ ¼å¸ƒå±€ */
  /* å·¦åˆ—ç¨å®½(1.1fr)ï¼Œå³åˆ—æ ‡å‡†(1fr) */
  grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
  /* minmax(0, fr)é˜²æ­¢å†…å®¹æº¢å‡º */
  
  gap: 32px;                               /* åˆ—é—´è· */
  align-items: center;                     /* å‚ç›´å±…ä¸­å¯¹é½ */
}

/* ç§»åŠ¨ç«¯å“åº”å¼ */
@media (max-width: 768px) {
  .two-column {
    grid-template-columns: 1fr;            /* å•åˆ—å¸ƒå±€ */
    gap: 24px;                             /* å‡å°é—´è· */
  }
  
  /* ç§»åŠ¨ç«¯æ–‡å­—å±…ä¸­ï¼ˆå¯é€‰ï¼‰ */
  .two-column > *:first-child {
    text-align: center;
  }
}

/* åå‘å¸ƒå±€å˜ä½“ï¼šå³æ–‡å·¦å›¾ */
.two-column--reverse {
  grid-template-columns: minmax(0, 1fr) minmax(0, 1.1fr);
}

/* æˆ–ä½¿ç”¨orderè°ƒæ•´é¡ºåº */
.two-column--reverse > *:first-child {
  order: 2;                                /* ç¬¬ä¸€ä¸ªå…ƒç´ ç§»åˆ°ç¬¬äºŒä½ */
}

.two-column--reverse > *:last-child {
  order: 1;                                /* ç¬¬äºŒä¸ªå…ƒç´ ç§»åˆ°ç¬¬ä¸€ä½ */
}
```

HTMLï¼š

```html
<section class="two-column">
  <div>
    <h2>å·¦ä¾§æ–‡æ¡ˆ</h2>
    <p>ä¸€äº›ä»‹ç»å†…å®¹â€¦â€¦</p>
  </div>
  <div>
    <!-- æ’å›¾æˆ–æˆªå›¾ -->
  </div>
</section>
```


#### 23.3.2 è‡ªé€‚åº”å¡ç‰‡ç½‘æ ¼

```css
/* è‡ªé€‚åº”å¡ç‰‡ç½‘æ ¼ */
.card-grid {
  display: grid;
  /* auto-fit: è‡ªåŠ¨å¡«å……å¯ç”¨ç©ºé—´
     minmax(220px, 1fr): æœ€å°220pxï¼Œæœ€å¤§1fr */
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;                               /* ç½‘æ ¼é—´è· */
  
  /* å¯é€‰ï¼šæ·»åŠ å†…è¾¹è· */
  padding: 20px;
}

/* æ§åˆ¶æœ€å¤§åˆ—æ•°çš„å˜ä½“ */
.card-grid--max-4 {
  /* æœ€å¤š4åˆ—ï¼Œæ¯åˆ—æœ€å°220px */
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  max-width: 1200px;                      /* é™åˆ¶æœ€å¤§å®½åº¦ */
  margin: 0 auto;                          /* å±…ä¸­ */
}

/* å›ºå®šåˆ—æ•°çš„å˜ä½“ */
.card-grid--fixed {
  /* æ¡Œé¢3åˆ—ï¼Œå¹³æ¿2åˆ—ï¼Œæ‰‹æœº1åˆ— */
  grid-template-columns: repeat(3, 1fr);
}

@media (max-width: 768px) {
  .card-grid--fixed {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .card-grid--fixed {
    grid-template-columns: 1fr;
  }
}
```

- å®½å±æ—¶è‡ªåŠ¨æ‘†æˆå¤šåˆ—
- çª„å±æ—¶è‡ªåŠ¨æŠ˜åˆ°ä¸€åˆ—ï¼Œæ— éœ€é¢å¤–åª’ä½“æŸ¥è¯¢
- auto-fitä¼šæ‹‰ä¼¸é¡¹ç›®å¡«æ»¡ç©ºé—´ï¼Œauto-fillåˆ™ä¿æŒé¡¹ç›®å®½åº¦


### 23.4 å¸¸è§å¯¼èˆªå’Œé¡µè„šç‰‡æ®µ

#### 23.4.1 ç®€å•é¡¶éƒ¨å¯¼èˆª

```css
/* å¯¼èˆªæ å®¹å™¨ */
.nav-bar {
  display: flex;                      /* å¼¹æ€§å¸ƒå±€ */
  align-items: center;                /* å‚ç›´å±…ä¸­ */
  justify-content: space-between;     /* ä¸¤ç«¯å¯¹é½ */
  padding: 12px 20px;                 /* å†…è¾¹è· */
  
  /* å¯é€‰ï¼šæ·»åŠ èƒŒæ™¯å’Œé˜´å½± */
  background: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  
  /* å›ºå®šåœ¨é¡¶éƒ¨ï¼ˆå¯é€‰ï¼‰ */
  position: sticky;
  top: 0;
  z-index: 100;
}

/* å¯¼èˆªé“¾æ¥ç»„ */
.nav-bar__links {
  display: flex;                      /* æ°´å¹³æ’åˆ— */
  gap: 16px;                          /* é“¾æ¥é—´è· */
}

/* å¯¼èˆªé“¾æ¥æ ·å¼ */
.nav-bar__links a {
  color: #4b5563;                     /* é»˜è®¤é¢œè‰² */
  text-decoration: none;              /* å»é™¤ä¸‹åˆ’çº¿ */
  font-weight: 500;                   /* ä¸­ç­‰ç²—ç»† */
  transition: color 0.2s;             /* é¢œè‰²è¿‡æ¸¡ */
  
  /* å¢åŠ ç‚¹å‡»åŒºåŸŸ */
  padding: 8px 12px;
  border-radius: 8px;
}

.nav-bar__links a:hover {
  color: #2563eb;                     /* æ‚¬åœé¢œè‰² */
  background: rgba(37, 99, 235, 0.1); /* æµ…è‰²èƒŒæ™¯ */
}

/* Logoæ ·å¼ */
.logo {
  font-size: 1.25rem;                 /* 20px */
  font-weight: 700;                   /* ç²—ä½“ */
  color: #111827;                     /* æ·±è‰² */
  text-decoration: none;
}

/* ç§»åŠ¨ç«¯æ±‰å ¡èœå•ï¼ˆå¯é€‰ï¼‰ */
.nav-bar__toggle {
  display: none;                      /* é»˜è®¤éšè— */
}

@media (max-width: 768px) {
  .nav-bar__links {
    display: none;                    /* ç§»åŠ¨ç«¯éšè—é“¾æ¥ */
  }
  
  .nav-bar__toggle {
    display: block;                   /* æ˜¾ç¤ºæ±‰å ¡æŒ‰é’® */
  }
}
```

HTMLï¼š

```html
<header class="nav-bar">
  <a href="#" class="logo">MySite</a>
  <nav class="nav-bar__links">
    <a href="#">äº§å“</a>
    <a href="#">ä»·æ ¼</a>
    <a href="#">æ–‡æ¡£</a>
  </nav>
</header>
```


### 23.5 å¸¸ç”¨è¡¨å•æ ·å¼ç‰‡æ®µ

```css
/* è¡¨å•å­—æ®µå®¹å™¨ */
.field {
  display: flex;
  flex-direction: column;              /* å‚ç›´æ’åˆ— */
  gap: 4px;                           /* æ ‡ç­¾ä¸è¾“å…¥æ¡†é—´è· */
  margin-bottom: 16px;                /* å­—æ®µé—´è· */
}

/* è¡¨å•æ ‡ç­¾ */
.field__label {
  font-size: 0.85rem;                 /* 13.6px */
  color: #4b5563;                     /* ä¸­ç°è‰² */
  font-weight: 500;                   /* ä¸­ç­‰ç²—ç»† */
  
  /* å¿…å¡«æ ‡è®° */
  &::after {
    content: attr(data-required);     /* ä½¿ç”¨data-requiredå±æ€§ */
    color: #ef4444;                   /* çº¢è‰² */
    margin-left: 2px;
  }
}

/* è¾“å…¥æ¡†æ ·å¼ */
.field__input {
  padding: 8px 12px;                  /* å†…è¾¹è· */
  border-radius: 8px;                 /* åœ†è§’ */
  border: 1px solid #cbd5e5;          /* æµ…è“ç°è¾¹æ¡† */
  font-size: 0.95rem;                 /* 15.2px */
  font-family: inherit;               /* ç»§æ‰¿å­—ä½“ */
  line-height: 1.5;
  
  /* è¿‡æ¸¡æ•ˆæœ */
  transition: border-color 0.2s,
              box-shadow 0.2s;
  
  /* å ä½ç¬¦æ ·å¼ */
  &::placeholder {
    color: #9ca3af;                   /* æµ…ç°è‰² */
  }
}

/* èšç„¦çŠ¶æ€ */
.field__input:focus {
  outline: none;                      /* ç§»é™¤é»˜è®¤è½®å»“ */
  border-color: #2563eb;              /* è“è‰²è¾¹æ¡† */
  /* èšç„¦å…‰ç¯æ•ˆæœ */
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* ç¦ç”¨çŠ¶æ€ */
.field__input:disabled {
  background: #f3f4f6;                /* æµ…ç°èƒŒæ™¯ */
  cursor: not-allowed;                /* ç¦ç”¨å…‰æ ‡ */
  opacity: 0.6;
}

/* é”™è¯¯çŠ¶æ€ */
.field__input--error {
  border-color: #ef4444;              /* çº¢è‰²è¾¹æ¡† */
}

.field__input--error:focus {
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

/* é”™è¯¯æç¤ºä¿¡æ¯ */
.field__error {
  font-size: 0.75rem;                 /* 12px */
  color: #ef4444;                     /* çº¢è‰² */
  margin-top: 4px;
}

/* æ–‡æœ¬åŸŸæ ·å¼ */
.field__textarea {
  /* ç»§æ‰¿è¾“å…¥æ¡†æ ·å¼ */
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid #cbd5e5;
  font-size: 0.95rem;
  font-family: inherit;
  
  /* æ–‡æœ¬åŸŸç‰¹æœ‰ */
  min-height: 100px;                  /* æœ€å°é«˜åº¦ */
  resize: vertical;                   /* åªå…è®¸å‚ç›´è°ƒæ•´å¤§å° */
}
```

HTMLï¼š

```html
<label class="field">
  <span class="field__label">é‚®ç®±</span>
  <input class="field__input" type="email" placeholder="you@example.com" />
</label>
```


---

> ç¬¬23ç« ç»™å‡ºäº†ä¸€äº›å¯ä»¥ç›´æ¥å¤ç”¨çš„åŸºç¡€ç‰‡æ®µï¼Œä½ å¯ä»¥åœ¨æ¯ä¸ªé¡¹ç›®ä¸€å¼€å§‹å°±æ‹·è´è¿‡æ¥ï¼Œå†æŒ‰å“ç‰Œé£æ ¼å¾®è°ƒã€‚æœ€åçš„ç¬¬24ç« ï¼Œæˆ‘ä»¬ä¼šåšä¸€ä»½ä¸»é¢˜åŒ–çš„å±æ€§é€ŸæŸ¥è¡¨ï¼Œæ–¹ä¾¿ä½ â€œå¿˜è®°æŸä¸ªå±æ€§åå­—æ—¶â€å¿«é€Ÿç¿»æŸ¥ã€‚

## ç¬¬24ç«  CSS å…¨å±æ€§é€ŸæŸ¥è¡¨ï¼ˆå‡ºç‰ˆé™„å½•çº§ï¼‰

> æœ¬ç« ä¸ä¼šæŒ‰å­—æ¯é¡ºåºåˆ—å‡ºæ‰€æœ‰å±æ€§ï¼Œè€Œæ˜¯æŒ‰ä¸»é¢˜åˆ†ç±»ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå›å¿†â€œæˆ‘è¦æ”¹ Xï¼Œè¯¥æŸ¥å“ªå‡ ä¸ªå±æ€§â€ã€‚

### 24.1 å¸ƒå±€ç›¸å…³

- å¸ƒå±€æ¨¡å‹
  - `display`ï¼ˆblock / inline / inline-block / flex / grid / inline-flex / inline-gridï¼‰
  - `position`ï¼ˆstatic / relative / absolute / fixed / stickyï¼‰
  - `float`ã€`clear`

- ç›’å­å°ºå¯¸ä¸å®šä½
  - `width`ã€`min-width`ã€`max-width`
  - `height`ã€`min-height`ã€`max-height`
  - `top`ã€`right`ã€`bottom`ã€`left`
  - `box-sizing`

- å¤–è¾¹è·ä¸å†…è¾¹è·
  - `margin`ã€`margin-top/right/bottom/left`
  - `padding`ã€`padding-top/right/bottom/left`

- Flex å¸ƒå±€
  - å®¹å™¨ï¼š`flex-direction`ã€`flex-wrap`ã€`justify-content`ã€`align-items`ã€`align-content`ã€`gap`
  - å­é¡¹ï¼š`flex`ã€`flex-grow`ã€`flex-shrink`ã€`flex-basis`ã€`align-self`

- Grid å¸ƒå±€
  - å®¹å™¨ï¼š`grid-template-columns`ã€`grid-template-rows`ã€`grid-template-areas`ã€`grid-auto-flow`ã€`gap`
  - è½¨é“å‡½æ•°ï¼š`repeat()`ã€`minmax()`ã€`auto-fit`ã€`auto-fill`
  - å­é¡¹ï¼š`grid-column`ã€`grid-row`ã€`grid-area`


### 24.2 è§†è§‰è¡¨ç°ç›¸å…³

- èƒŒæ™¯
  - `background-color`
  - `background-image`
  - `background-repeat`
  - `background-position`
  - `background-size`
  - `background-attachment`

- è¾¹æ¡†ä¸åœ†è§’
  - `border`ã€`border-width`ã€`border-style`ã€`border-color`
  - `border-radius`ï¼ˆå«å•ç‹¬å››è§’ï¼‰

- é˜´å½±ä¸è½®å»“
  - `box-shadow`
  - `text-shadow`
  - `outline`ã€`outline-offset`

- é¢œè‰²ä¸é€æ˜åº¦
  - é¢œè‰²è¡¨ç¤ºæ³•ï¼š`rgb()`ã€`rgba()`ã€`hsl()`ã€`hsla()`ã€åå…­è¿›åˆ¶
  - `opacity`


### 24.3 æ–‡æœ¬ä¸å­—ä½“ç›¸å…³

- å­—ä½“
  - `font-family`
  - `font-size`
  - `font-weight`
  - `font-style`
  - `font-variant`ï¼ˆå°å‹å¤§å†™ç­‰ï¼‰
  - `line-height`

- æ–‡æœ¬ä¿®é¥°ä¸å¯¹é½
  - `text-align`
  - `text-decoration`
  - `text-transform`
  - `text-indent`
  - `letter-spacing`
  - `word-spacing`

- æ¢è¡Œä¸æº¢å‡º
  - `white-space`
  - `word-break`
  - `overflow-wrap`
  - `text-overflow`ï¼ˆé…åˆ `overflow: hidden;` å’Œ `white-space: nowrap;` å®ç°çœç•¥å·ï¼‰


### 24.4 åŠ¨æ•ˆä¸å˜æ¢ç›¸å…³

- è¿‡æ¸¡
  - `transition-property`
  - `transition-duration`
  - `transition-timing-function`
  - `transition-delay`

- å˜æ¢
  - `transform`ï¼ˆ`translate`ã€`scale`ã€`rotate`ã€`skew`ï¼‰
  - `transform-origin`

- åŠ¨ç”»
  - `@keyframes`
  - `animation-name`
  - `animation-duration`
  - `animation-timing-function`
  - `animation-delay`
  - `animation-iteration-count`
  - `animation-direction`
  - `animation-fill-mode`


### 24.5 é«˜çº§ä¸æ‚é¡¹

- å˜é‡ä¸è®¡ç®—
  - `var()`ã€è‡ªå®šä¹‰å±æ€§ï¼ˆ`--token-name`ï¼‰
  - `calc()`ã€`min()`ã€`max()`ã€`clamp()`

- åª’ä½“ä¸ç‰¹æ€§æŸ¥è¯¢
  - `@media`ï¼ˆå®½é«˜ã€åƒç´ å¯†åº¦ã€æ–¹å‘ï¼‰
  - `@supports`ï¼ˆç‰¹æ€§æ£€æµ‹ï¼‰

- è¿‡æ»¤ä¸æ··åˆ
  - `filter`
  - `backdrop-filter`
  - `mix-blend-mode`

- æ»šåŠ¨ä¸è¡Œä¸º
  - `overflow`
  - `overflow-x`ã€`overflow-y`
  - `scroll-behavior`
  - `scroll-margin-*`
  - `overscroll-behavior`

- äº¤äº’ç›¸å…³
  - `cursor`                /* é¼ æ ‡å…‰æ ‡æ ·å¼ */
  - `pointer-events`        /* é¼ æ ‡äº‹ä»¶æ§åˆ¶ */
  - `user-select`          /* æ–‡æœ¬é€‰æ‹©æ§åˆ¶ */

### 24.6 å¸¸ç”¨å±æ€§å€¼é€ŸæŸ¥

```css
/* cursor å…‰æ ‡ç±»å‹ */
cursor: pointer;     /* æ‰‹å‹ï¼ˆå¯ç‚¹å‡»ï¼‰ */
cursor: default;     /* é»˜è®¤ç®­å¤´ */
cursor: text;        /* æ–‡æœ¬è¾“å…¥ */
cursor: move;        /* ç§»åŠ¨ */
cursor: not-allowed; /* ç¦ç”¨ */
cursor: wait;        /* ç­‰å¾…/åŠ è½½ */
cursor: help;        /* å¸®åŠ© */
cursor: crosshair;   /* åå­— */
cursor: zoom-in;     /* æ”¾å¤§ */
cursor: zoom-out;    /* ç¼©å° */

/* overflow æº¢å‡ºå¤„ç† */
overflow: visible;   /* æ˜¾ç¤ºæº¢å‡ºå†…å®¹ï¼ˆé»˜è®¤ï¼‰ */
overflow: hidden;    /* éšè—æº¢å‡º */
overflow: scroll;    /* å§‹ç»ˆæ˜¾ç¤ºæ»šåŠ¨æ¡ */
overflow: auto;      /* éœ€è¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */

/* text-align æ–‡æœ¬å¯¹é½ */
text-align: left;    /* å·¦å¯¹é½ */
text-align: right;   /* å³å¯¹é½ */
text-align: center;  /* å±…ä¸­ */
text-align: justify; /* ä¸¤ç«¯å¯¹é½ */

/* vertical-align å‚ç›´å¯¹é½ */
vertical-align: baseline;    /* åŸºçº¿ï¼ˆé»˜è®¤ï¼‰ */
vertical-align: top;         /* é¡¶éƒ¨ */
vertical-align: middle;      /* ä¸­éƒ¨ */
vertical-align: bottom;      /* åº•éƒ¨ */
vertical-align: text-top;    /* æ–‡æœ¬é¡¶éƒ¨ */
vertical-align: text-bottom; /* æ–‡æœ¬åº•éƒ¨ */

/* white-space ç©ºç™½å¤„ç† */
white-space: normal;   /* æ­£å¸¸æ¢è¡Œ */
white-space: nowrap;   /* ä¸æ¢è¡Œ */
white-space: pre;      /* ä¿ç•™ç©ºç™½ */
white-space: pre-wrap; /* ä¿ç•™ç©ºç™½å¹¶æ¢è¡Œ */
white-space: pre-line; /* åˆå¹¶ç©ºç™½ä½†ä¿ç•™æ¢è¡Œ */

/* list-style-type åˆ—è¡¨æ ·å¼ */
list-style-type: none;        /* æ— æ ‡è®° */
list-style-type: disc;        /* å®å¿ƒåœ†ï¼ˆé»˜è®¤ï¼‰ */
list-style-type: circle;      /* ç©ºå¿ƒåœ† */
list-style-type: square;      /* æ–¹å— */
list-style-type: decimal;     /* æ•°å­— */
list-style-type: lower-alpha; /* å°å†™å­—æ¯ */
list-style-type: upper-alpha; /* å¤§å†™å­—æ¯ */
```

### 24.7 å•ä½é€ŸæŸ¥

```css
/* ç»å¯¹å•ä½ */
px    /* åƒç´ ï¼ˆæœ€å¸¸ç”¨ï¼‰ */
pt    /* ç‚¹ï¼ˆ1pt = 1/72è‹±å¯¸ï¼‰ */
cm    /* å˜ç±³ */
mm    /* æ¯«ç±³ */

/* ç›¸å¯¹å•ä½ */
em    /* ç›¸å¯¹äºçˆ¶å…ƒç´ å­—å· */
rem   /* ç›¸å¯¹äºæ ¹å…ƒç´ å­—å· */
%     /* ç™¾åˆ†æ¯” */
vw    /* è§†å£å®½åº¦çš„1% */
vh    /* è§†å£é«˜åº¦çš„1% */
vmin  /* vwå’Œvhä¸­è¾ƒå°å€¼ */
vmax  /* vwå’Œvhä¸­è¾ƒå¤§å€¼ */
ch    /* å­—ç¬¦0çš„å®½åº¦ */
ex    /* å­—æ¯xçš„é«˜åº¦ */

/* æ–°å•ä½ */
fr    /* Gridå¸ƒå±€çš„ä»½æ•°å•ä½ */
```

---

> ğŸ’¡ **é€ŸæŸ¥æç¤º**ï¼š
> - éœ€è¦æ§åˆ¶å¸ƒå±€ï¼ŸæŸ¥çœ‹ 24.1
> - éœ€è¦ç¾åŒ–å¤–è§‚ï¼ŸæŸ¥çœ‹ 24.2 å’Œ 24.3
> - éœ€è¦æ·»åŠ åŠ¨æ•ˆï¼ŸæŸ¥çœ‹ 24.4
> - å¿˜è®°å±æ€§å€¼ï¼ŸæŸ¥çœ‹ 24.6
> - ä¸ç¡®å®šå•ä½ï¼ŸæŸ¥çœ‹ 24.7
