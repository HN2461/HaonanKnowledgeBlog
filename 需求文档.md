# 个人技术博客网站 - 详细需求文档

## 📋 项目基本信息

| 项目信息 | 详细内容 |
|---------|---------|
| **项目名称** | 个人技术博客网站 |
| **项目类型** | 静态网站 (SSG - Static Site Generation) |
| **技术栈** | Vue3 + Vite + TypeScript |
| **部署方式** | 静态托管 (Netlify/Vercel/GitHub Pages) |
| **主要用途** | 在线展示和查看个人技术笔记 |
| **目标用户** | 本人及访问者 |

---

## 🎯 项目目标

1. 构建一个简洁、高效的个人技术博客平台
2. 支持 Markdown 格式的技术笔记在线展示
3. 提供良好的阅读体验和便捷的导航功能
4. 实现快速部署和方便维护
5. 支持随时随地访问个人笔记库

---

## 📁 项目结构规划

```
前端书籍/
├── public/                    # 静态资源目录
│   ├── notes/                # 笔记存放目录
│   │   ├── JavaScript/      # JavaScript 相关笔记
│   │   │   ├── 基础语法.md
│   │   │   └── 高级特性.md
│   │   ├── Vue/             # Vue 相关笔记
│   │   │   ├── Vue3新特性.md
│   │   │   └── 组件通信.md
│   │   ├── React/           # React 相关笔记
│   │   └── 其他分类/
│   └── images/              # 笔记中的图片资源
├── src/
│   ├── components/          # 组件目录
│   ├── views/              # 页面目录
│   ├── router/             # 路由配置
│   ├── utils/              # 工具函数
│   ├── styles/             # 样式文件
│   └── types/              # TypeScript 类型定义
├── scripts/                # 构建脚本
│   └── generateNotesIndex.js  # 生成笔记索引脚本
├── package.json
├── vite.config.ts
└── README.md
```

---

## 💡 核心功能需求

### 1. 笔记文件管理系统

#### 1.1 文件存储规范
- **存储路径**: `/public/notes/` 目录
- **文件格式**: `.md` (Markdown)
- **编码格式**: UTF-8
- **命名规范**: 
  - 支持中英文文件名
  - 不建议使用特殊字符
  - 文件名即显示标题（可通过 frontmatter 覆盖）

#### 1.2 目录结构支持
- 支持多级目录嵌套（建议不超过 3 层）
- 每个文件夹代表一个技术分类/专题
- 自动识别并解析文件夹层级关系
- 支持文件夹排序（可通过配置文件定义顺序）

#### 1.3 Markdown 文件规范
支持 Markdown frontmatter 元信息：
```markdown
---
title: 文章标题
date: 2025-01-15
tags: [JavaScript, Vue3, 前端]
category: JavaScript
description: 文章简短描述
---

# 正文内容
```

### 2. 构建时文件扫描系统

#### 2.1 自动扫描功能
- **触发时机**: 项目构建时 (npm run build)
- **扫描范围**: `/public/notes/` 目录及所有子目录
- **扫描结果**: 生成 `notes-index.json` 索引文件

#### 2.2 索引文件结构
```json
{
  "categories": [
    {
      "name": "JavaScript",
      "path": "JavaScript",
      "children": [],
      "notes": [
        {
          "title": "基础语法",
          "filename": "基础语法.md",
          "path": "JavaScript/基础语法.md",
          "date": "2025-01-15",
          "tags": ["JavaScript", "基础"],
          "description": "JavaScript 基础语法总结",
          "size": "15KB",
          "lastModified": "2025-01-15T10:30:00Z"
        }
      ]
    }
  ],
  "totalNotes": 100,
  "lastUpdated": "2025-01-15T10:30:00Z"
}
```

#### 2.3 元信息提取
- 文件标题（优先读取 frontmatter，其次使用文件名）
- 创建日期和修改日期
- 文件大小
- 标签和分类
- 文章摘要（frontmatter 描述或首段内容）
- 关键词提取（用于搜索）

### 3. 前端页面展示系统

#### 3.1 首页 (Home)
**功能模块**:
- **顶部 Banner**: 
  - 个人简介/网站标语
  - 搜索框
- **分类卡片展示**: 
  - 按文件夹分组展示笔记
  - 显示每个分类的笔记数量
  - 分类图标/缩略图
- **最近更新列表**: 
  - 显示最近 10 篇更新的笔记
  - 显示标题、日期、分类
- **统计信息**: 
  - 总笔记数
  - 总字数
  - 分类数量

#### 3.2 笔记列表页 (NoteList)
**功能**:
- 显示特定分类下的所有笔记
- 支持多种排序方式：
  - 按时间排序（最新/最旧）
  - 按标题排序（A-Z）
  - 按大小排序
- 卡片式或列表式布局
- 每个笔记项显示：
  - 标题
  - 摘要
  - 日期
  - 标签
  - 字数统计

#### 3.3 笔记详情页 (NoteDetail)
**功能**:
- **顶部区域**:
  - 文章标题
  - 元信息（日期、分类、标签、字数、阅读时长）
  - 面包屑导航
- **左侧边栏**:
  - 文章目录（TOC）自动生成
  - 点击目录项平滑滚动到对应位置
  - 高亮当前阅读位置
- **主内容区**:
  - Markdown 内容渲染
  - 代码块语法高亮
  - 图片懒加载
  - 表格响应式处理
- **右侧边栏（可选）**:
  - 相关推荐
  - 标签云
- **底部区域**:
  - 上一篇/下一篇导航
  - 返回列表按钮

#### 3.4 全局侧边栏导航
**功能**:
- 树形结构展示所有分类和文件
- 支持折叠/展开
- 高亮当前浏览的笔记
- 显示笔记数量统计
- 支持固定/隐藏切换
- 移动端支持抽屉式展开

#### 3.5 搜索功能页
**搜索能力**:
- **实时搜索**: 输入时实时显示结果
- **搜索范围**:
  - 笔记标题
  - 文章正文内容
  - 标签
  - 分类
- **搜索结果展示**:
  - 高亮匹配关键词
  - 显示匹配上下文片段
  - 按相关度排序
- **搜索历史**: 保存最近 10 条搜索记录

### 4. Markdown 渲染系统

#### 4.1 基础 Markdown 语法支持
- 标题 (h1-h6)
- 段落和换行
- 加粗、斜体、删除线
- 有序列表、无序列表
- 引用块
- 分割线
- 链接和图片
- 表格

#### 4.2 扩展语法支持
- 任务列表 (Todo List)
- 代码块语法高亮
- 数学公式 (KaTeX)
- 表情符号 (Emoji)
- 脚注
- 高亮文本
- 上下标

#### 4.3 代码高亮
- 支持主流编程语言
- 行号显示
- 代码复制按钮
- 支持代码行高亮
- 主题切换（跟随网站主题）

#### 4.4 图片处理
- 支持相对路径和绝对路径
- 图片懒加载
- 点击图片放大预览
- 支持图片标题和描述

---

## 🎨 UI/UX 设计需求

### 1. 整体设计风格

#### 1.1 视觉风格
- **设计理念**: 简洁、现代、专业
- **色彩方案**:
  - 主色调: 科技蓝 (#409EFF)
  - 辅助色: 灰色系列
  - 强调色: 橙色 (#E6A23C)
  - 背景色: 浅灰/白色
- **字体**:
  - 中文: 苹方、微软雅黑
  - 英文: Roboto, Arial
  - 代码: JetBrains Mono, Fira Code

#### 1.2 布局设计
- **顶部导航栏**: 固定在顶部（高度 60px）
- **侧边栏**: 宽度 260px，可收起
- **主内容区**: 最大宽度 1200px，居中显示
- **响应式断点**:
  - 桌面端: ≥1200px
  - 平板: 768px - 1199px
  - 移动端: <768px

### 2. 主题系统

#### 2.1 浅色主题（默认）
- 背景色: #FFFFFF / #F5F7FA
- 文字色: #303133
- 边框色: #DCDFE6

#### 2.2 深色主题
- 背景色: #1E1E1E / #252526
- 文字色: #E4E7ED
- 边框色: #4C4C4C

#### 2.3 主题切换
- 右上角主题切换按钮
- 记住用户选择（localStorage）
- 平滑过渡动画

### 3. 交互体验

#### 3.1 动画效果
- 页面切换: 淡入淡出动画
- 加载状态: Loading 骨架屏
- 悬停效果: 卡片阴影提升
- 滚动: 平滑滚动

#### 3.2 响应式适配
- **移动端优化**:
  - 侧边栏改为抽屉式
  - 触摸友好的按钮大小
  - 优化表格横向滚动
  - 简化导航结构
- **平板适配**:
  - 自适应布局
  - 侧边栏可选显示

#### 3.3 无障碍访问
- 语义化 HTML 标签
- 支持键盘导航
- 合理的 ARIA 标签
- 足够的对比度

### 4. 性能优化

#### 4.1 加载优化
- 路由懒加载
- 图片懒加载
- 代码分割
- 资源压缩

#### 4.2 渲染优化
- 虚拟滚动（长列表）
- 防抖与节流
- 组件缓存 (KeepAlive)

---

## 🔧 技术实现方案

### 1. 技术栈选型

#### 1.1 核心框架
- **Vue 3.3+**: Composition API
- **Vite 5+**: 构建工具
- **Vue Router 4**: 路由管理
- **Pinia**: 状态管理（如需要）

#### 1.2 UI 框架
- **Element Plus**: 组件库（可选）
- **Tailwind CSS**: 工具类 CSS 框架
- 或纯手写 CSS

#### 1.3 Markdown 相关
- **markdown-it**: Markdown 解析器
- **markdown-it-anchor**: 标题锚点
- **markdown-it-toc-done-right**: 目录生成
- **highlight.js** 或 **Prism.js**: 代码高亮
- **KaTeX**: 数学公式渲染（可选）

#### 1.4 其他依赖
- **gray-matter**: 解析 frontmatter
- **fuse.js**: 模糊搜索
- **dayjs**: 日期处理
- **axios**: HTTP 请求（如需要）

### 2. 核心模块实现

#### 2.1 构建脚本 (generateNotesIndex.js)
```javascript
// 功能：
// 1. 递归扫描 public/notes 目录
// 2. 读取 .md 文件内容
// 3. 解析 frontmatter 元信息
// 4. 生成索引 JSON 文件
// 5. 处理文件路径和分类关系
```

#### 2.2 Markdown 渲染器封装
```typescript
// 功能：
// 1. 配置 markdown-it 实例
// 2. 添加各种插件
// 3. 自定义渲染规则
// 4. 代码高亮配置
// 5. 安全性处理（XSS 防护）
```

#### 2.3 搜索引擎实现
```typescript
// 功能：
// 1. 加载笔记索引
// 2. 配置 fuse.js 搜索选项
// 3. 实现搜索方法
// 4. 搜索结果高亮
// 5. 搜索历史管理
```

#### 2.4 目录生成器
```typescript
// 功能：
// 1. 解析 Markdown 标题结构
// 2. 生成树形目录数据
// 3. 实现目录点击跳转
// 4. 高亮当前阅读位置
// 5. 监听滚动事件更新状态
```

### 3. 组件设计

#### 3.1 布局组件
- `AppLayout.vue`: 整体布局容器
- `AppHeader.vue`: 顶部导航栏
- `AppSidebar.vue`: 侧边栏
- `AppFooter.vue`: 底部信息

#### 3.2 功能组件
- `FileTree.vue`: 文件树组件
- `MarkdownRenderer.vue`: Markdown 渲染组件
- `SearchBar.vue`: 搜索框组件
- `SearchResult.vue`: 搜索结果组件
- `TableOfContents.vue`: 文章目录组件
- `Breadcrumb.vue`: 面包屑导航
- `NoteCard.vue`: 笔记卡片组件
- `TagCloud.vue`: 标签云组件
- `ThemeSwitch.vue`: 主题切换组件
- `BackToTop.vue`: 返回顶部按钮

#### 3.3 页面组件
- `HomePage.vue`: 首页
- `NoteListPage.vue`: 笔记列表页
- `NoteDetailPage.vue`: 笔记详情页
- `SearchPage.vue`: 搜索页面
- `NotFoundPage.vue`: 404 页面

### 4. 路由设计

```typescript
const routes = [
  {
    path: '/',
    name: 'Home',
    component: HomePage
  },
  {
    path: '/category/:category',
    name: 'NoteList',
    component: NoteListPage
  },
  {
    path: '/note/:path(.*)',
    name: 'NoteDetail',
    component: NoteDetailPage
  },
  {
    path: '/search',
    name: 'Search',
    component: SearchPage
  },
  {
    path: '/:pathMatch(.*)*',
    name: 'NotFound',
    component: NotFoundPage
  }
]
```

---

## 🚀 部署方案

### 1. 构建配置

#### 1.1 Vite 配置优化
- 配置 base 路径
- 开启资源压缩
- 配置代码分割
- 优化构建体积

#### 1.2 构建流程
```bash
# 1. 生成笔记索引
npm run generate:index

# 2. 构建项目
npm run build

# 3. 预览构建结果
npm run preview
```

### 2. 部署平台

#### 2.1 Netlify 部署
- 自动部署配置
- 环境变量设置
- 重定向规则配置

#### 2.2 Vercel 部署
- vercel.json 配置
- 自动部署设置

#### 2.3 GitHub Pages 部署
- GitHub Actions 配置
- gh-pages 分支管理

### 3. 持续集成

- Git 提交触发自动构建
- 构建失败通知
- 自动化测试（可选）

---

## 📝 开发规范

### 1. 代码规范
- ESLint + Prettier 配置
- TypeScript 严格模式
- Vue 3 风格指南
- 组件命名规范

### 2. Git 提交规范
```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 重构
perf: 性能优化
test: 测试相关
chore: 构建/工具配置
```

### 3. 注释规范
- 函数注释（JSDoc）
- 复杂逻辑注释
- 组件属性注释

---

## 🔄 迭代计划

### 第一阶段（MVP - 最小可行产品）
- [ ] 项目初始化和基础配置
- [ ] 构建脚本开发（笔记索引生成）
- [ ] 基础布局和路由
- [ ] Markdown 渲染功能
- [ ] 笔记列表和详情页
- [ ] 基础样式和响应式

### 第二阶段（功能完善）
- [ ] 侧边栏文件树导航
- [ ] 搜索功能实现
- [ ] 文章目录（TOC）
- [ ] 代码高亮优化
- [ ] 主题切换功能

### 第三阶段（体验优化）
- [ ] 性能优化
- [ ] 动画效果
- [ ] 移动端优化
- [ ] SEO 优化
- [ ] 图片懒加载

### 第四阶段（扩展功能）
- [ ] 标签系统
- [ ] 统计分析
- [ ] 评论系统（可选）
- [ ] RSS 订阅（可选）

---

## 📊 成功指标

1. **性能指标**
   - 首屏加载时间 < 2s
   - 页面切换响应 < 300ms
   - Lighthouse 评分 > 90

2. **功能指标**
   - 支持 100+ 篇笔记
   - 搜索响应时间 < 500ms
   - 支持 10+ 层级分类

3. **体验指标**
   - 移动端适配完善
   - 无明显 UI 错误
   - 流畅的交互体验

---

## 📌 注意事项

1. **图片资源管理**
   - 建议将图片放在 `/public/images/` 目录
   - Markdown 中使用相对路径引用
   - 注意图片大小优化

2. **文件命名**
   - 避免使用特殊字符
   - 中文文件名需要 URL 编码处理
   - 建议使用有意义的英文命名

3. **内容更新**
   - 每次添加新笔记后需要重新构建
   - 建议使用 Git 管理笔记内容
   - 定期备份笔记数据

4. **兼容性**
   - 支持主流现代浏览器
   - Chrome/Edge/Firefox/Safari 最新版本
   - 移动端浏览器支持

---

## 📚 参考资料

- Vue 3 官方文档: https://cn.vuejs.org/
- Vite 官方文档: https://cn.vitejs.dev/
- Markdown-it: https://github.com/markdown-it/markdown-it
- Tailwind CSS: https://tailwindcss.com/

---

**文档版本**: v1.0
**创建日期**: 2025-01-15
**最后更新**: 2025-01-15
